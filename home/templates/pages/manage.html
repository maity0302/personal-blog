{% extends "pages/base.html" %} {% load method_override %} {% block title %}
Quản lý blog {% endblock %} {% block content %} {% if not blogs %}
<div
   class="flex justify-center items-center shadow-md sm:rounded-lg m-20 min-h-[500px]">
   <div class="flex">
      Bạn chưa có bài viết nào.
      <a href="{% url 'create' %}" class="text-blue-400 hover:text-blue-600"
         >Thêm ngay
      </a>
   </div>
</div>
{% else %}
<div class="relative overflow-x-auto shadow-md sm:rounded-lg m-20">
   <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
      <thead
         class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
         <tr>
            <th scope="col" class="px-6 py-3">Tên bài biết</th>
            <th scope="col" class="px-6 py-3">Trạng thái</th>
            <th scope="col" class="px-6 py-3">Danh mục</th>
            <th scope="col" class="px-6 py-3">Ngày tạo</th>
            <th scope="col" class="px-6 py-3">Hành động</th>
         </tr>
      </thead>
      <tbody>
         {% for blog in blogs %}
         <tr class="bg-white border-b dark:bg-gray-900 dark:border-gray-700">
            <th
               scope="row"
               class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
               {{ blog.title }}
            </th>
            <td class="px-6 py-4">
               {% if blog.status %}
               <svg
                  xmlns="http://www.w3.org/2000/svg"
                  x="0px"
                  y="0px"
                  width="27"
                  height="27"
                  viewBox="0,0,256,256">
                  <g fill="#20c997">
                     <g transform="scale(5.33333,5.33333)">
                        <path
                           d="M24,4c-11.02793,0 -20,8.97207 -20,20c0,11.02793 8.97207,20 20,20c11.02793,0 20,-8.97207 20,-20c0,-11.02793 -8.97207,-20 -20,-20zM24,7c9.40662,0 17,7.59339 17,17c0,9.40661 -7.59338,17 -17,17c-9.40661,0 -17,-7.59339 -17,-17c0,-9.40661 7.59339,-17 17,-17zM31.4707,17.98633c-0.38956,0.01135 -0.75941,0.17386 -1.03125,0.45313l-8.93945,8.93945l-3.93945,-3.93945c-0.37623,-0.39185 -0.9349,-0.54969 -1.46055,-0.41265c-0.52565,0.13704 -0.93616,0.54754 -1.07319,1.07319c-0.13704,0.52565 0.0208,1.08432 0.41265,1.46055l5,5c0.58579,0.58555 1.5353,0.58555 2.12109,0l10,-10c0.4429,-0.43135 0.57582,-1.09023 0.33479,-1.65955c-0.24103,-0.56932 -0.80665,-0.93247 -1.42463,-0.91467z"></path>
                     </g>
                  </g>
               </svg>
               {% else %}
               <svg
                  xmlns="http://www.w3.org/2000/svg"
                  x="0px"
                  y="0px"
                  width="27"
                  height="27"
                  viewBox="0,0,256,256">
                  <g fill="#94d82d">
                     <g transform="scale(5.33333,5.33333)">
                        <path
                           d="M25,4c-1.54167,0 -2.88785,0.63213 -3.74609,1.59766c-0.85824,0.96552 -1.25391,2.19401 -1.25391,3.40234c0,1.20833 0.39566,2.43682 1.25391,3.40234c0.85824,0.96552 2.20443,1.59766 3.74609,1.59766c1.54167,0 2.88785,-0.63213 3.74609,-1.59766c0.85824,-0.96552 1.25391,-2.19401 1.25391,-3.40234c0,-1.20833 -0.39566,-2.43682 -1.25391,-3.40234c-0.85824,-0.96552 -2.20443,-1.59766 -3.74609,-1.59766zM25,7c0.79167,0 1.19548,0.24287 1.50391,0.58984c0.30842,0.34698 0.49609,0.86849 0.49609,1.41016c0,0.54167 -0.18767,1.06318 -0.49609,1.41016c-0.30842,0.34698 -0.71224,0.58984 -1.50391,0.58984c-0.79167,0 -1.19548,-0.24287 -1.50391,-0.58984c-0.30842,-0.34698 -0.49609,-0.86849 -0.49609,-1.41016c0,-0.54167 0.18767,-1.06318 0.49609,-1.41016c0.30842,-0.34698 0.71224,-0.58984 1.50391,-0.58984zM12.5,10c-1.375,0 -2.59618,0.56963 -3.37109,1.44141c-0.77491,0.87177 -1.12891,1.97526 -1.12891,3.05859c0,1.08333 0.354,2.18682 1.12891,3.05859c0.77491,0.87177 1.99609,1.44141 3.37109,1.44141c1.375,0 2.59619,-0.56963 3.37109,-1.44141c0.77491,-0.87177 1.12891,-1.97526 1.12891,-3.05859c0,-1.08333 -0.354,-2.18682 -1.12891,-3.05859c-0.77491,-0.87177 -1.99609,-1.44141 -3.37109,-1.44141zM36.5,12c-0.82843,0 -1.5,0.67157 -1.5,1.5c0,0.82843 0.67157,1.5 1.5,1.5c0.82843,0 1.5,-0.67157 1.5,-1.5c0,-0.82843 -0.67157,-1.5 -1.5,-1.5zM12.5,13c0.625,0 0.90382,0.18037 1.12891,0.43359c0.22509,0.25323 0.37109,0.64974 0.37109,1.06641c0,0.41667 -0.146,0.81318 -0.37109,1.06641c-0.22509,0.25323 -0.50391,0.43359 -1.12891,0.43359c-0.625,0 -0.90382,-0.18037 -1.12891,-0.43359c-0.22509,-0.25323 -0.37109,-0.64974 -0.37109,-1.06641c0,-0.41667 0.146,-0.81318 0.37109,-1.06641c0.22509,-0.25323 0.50391,-0.43359 1.12891,-0.43359zM41,21c-1.10457,0 -2,0.89543 -2,2c0,1.10457 0.89543,2 2,2c1.10457,0 2,-0.89543 2,-2c0,-1.10457 -0.89543,-2 -2,-2zM9,23c-2.19056,-0.00049 -3.99841,1.80801 -4,3.99805c-0.00159,2.19187 1.80581,4.00037 3.99609,4.00195h0.00195c2.19146,0.00159 4.00037,-1.80735 4.00195,-3.99805c0.00159,-2.19187 -1.80645,-4.00195 -3.99805,-4.00195zM8.99805,26h0.00195h0.00195c0.56841,0 0.99846,0.42987 0.99805,1c-0.00041,0.5713 -0.4295,1.00041 -0.99805,1h-0.00195h-0.00195c-0.56872,-0.00142 -0.99846,-0.43054 -0.99805,-1c0.00041,-0.5713 0.4295,-1.00041 0.99805,-1zM38.5,31c-1.381,0 -2.5,1.119 -2.5,2.5c0,1.381 1.119,2.5 2.5,2.5c1.381,0 2.5,-1.119 2.5,-2.5c0,-1.381 -1.119,-2.5 -2.5,-2.5zM15.5,34c-1.04167,0 -2.01285,0.44463 -2.62109,1.12891c-0.60824,0.68427 -0.87891,1.53776 -0.87891,2.37109c0,0.83333 0.27066,1.68682 0.87891,2.37109c0.60824,0.68427 1.57943,1.12891 2.62109,1.12891c1.04167,0 2.01285,-0.44463 2.62109,-1.12891c0.60824,-0.68427 0.87891,-1.53776 0.87891,-2.37109c0,-0.83333 -0.27066,-1.68682 -0.87891,-2.37109c-0.60824,-0.68427 -1.57943,-1.12891 -2.62109,-1.12891zM15.5,37c0.29167,0 0.32048,0.05537 0.37891,0.12109c0.05842,0.06573 0.12109,0.21224 0.12109,0.37891c0,0.16667 -0.06267,0.31318 -0.12109,0.37891c-0.05842,0.06573 -0.08724,0.12109 -0.37891,0.12109c-0.29167,0 -0.32048,-0.05537 -0.37891,-0.12109c-0.05842,-0.06573 -0.12109,-0.21224 -0.12109,-0.37891c0,-0.16667 0.06267,-0.31318 0.12109,-0.37891c0.05842,-0.06573 0.08724,-0.12109 0.37891,-0.12109zM28,37c-1.65685,0 -3,1.34315 -3,3c0,1.65685 1.34315,3 3,3c1.65685,0 3,-1.34315 3,-3c0,-1.65685 -1.34315,-3 -3,-3z"></path>
                     </g>
                  </g>
               </svg>
               {% endif %}
            </td>
            <td class="px-6 py-4">
               {% for collection in blog.collectionId.all %}
               <a
                  href="{% url 'collection' collection.id %}"
                  class="hover:text-white hover:bg-blue-500 border border-blue-100 p-2 rounded-lg"
                  >{{ collection.name }}</a
               >
               {% endfor %}
            </td>
            <td class="px-6 py-4">{{ blog.createdat|date:'d-m-Y H:i:s' }}</td>
            <td class="px-6 py-4 flex justify-start items-center gap-4">
               <a
                  href="{% url 'blog' blog.id %}"
                  class="hover:fill-blue-500 p-2 hover:text-blue-600 font-medium text-blue-600 dark:text-blue-500">
                  <svg
                     xmlns="http://www.w3.org/2000/svg"
                     x="0px"
                     y="0px"
                     width="24"
                     height="24"
                     color="currentColor"
                     viewBox="0 0 48 48">
                     <path
                        d="M 23.986328 9 C 12.666705 9 2.6928719 16.845918 0.046875 27.126953 A 1.5002454 1.5002454 0 0 0 2.953125 27.873047 C 5.2331281 19.014082 14.065951 12 23.986328 12 C 33.906705 12 42.767507 19.01655 45.046875 27.873047 A 1.5002454 1.5002454 0 0 0 47.953125 27.126953 C 45.306493 16.84345 35.305951 9 23.986328 9 z M 24.001953 17 C 18.681885 17 14.337891 21.343999 14.337891 26.664062 C 14.337891 31.984127 18.681885 36.330078 24.001953 36.330078 C 29.322021 36.330078 33.667969 31.984126 33.667969 26.664062 C 33.667969 21.343999 29.322021 17 24.001953 17 z M 24.001953 20 C 27.700702 20 30.667969 22.965317 30.667969 26.664062 C 30.667969 30.36281 27.700702 33.330078 24.001953 33.330078 C 20.303205 33.330078 17.337891 30.362809 17.337891 26.664062 C 17.337891 22.965317 20.303205 20 24.001953 20 z"></path>
                  </svg>
               </a>
               <a
                  href="{% url 'edit' blog.id %}"
                  class="hover:fill-blue-500 p-2 hover:text-blue-600 font-medium text-blue-600 dark:text-blue-500">
                  <svg
                     xmlns="http://www.w3.org/2000/svg"
                     x="0px"
                     y="0px"
                     width="24"
                     height="24"
                     color="currentColor"
                     viewBox="0 0 48 48">
                     <path
                        d="M 36 5.0097656 C 34.205301 5.0097656 32.410791 5.6901377 31.050781 7.0507812 L 8.9160156 29.183594 C 8.4960384 29.603571 8.1884588 30.12585 8.0253906 30.699219 L 5.0585938 41.087891 A 1.50015 1.50015 0 0 0 6.9121094 42.941406 L 17.302734 39.974609 A 1.50015 1.50015 0 0 0 17.304688 39.972656 C 17.874212 39.808939 18.39521 39.50518 18.816406 39.083984 L 40.949219 16.949219 C 43.670344 14.228094 43.670344 9.7719064 40.949219 7.0507812 C 39.589209 5.6901377 37.794699 5.0097656 36 5.0097656 z M 36 7.9921875 C 37.020801 7.9921875 38.040182 8.3855186 38.826172 9.171875 A 1.50015 1.50015 0 0 0 38.828125 9.171875 C 40.403 10.74675 40.403 13.25325 38.828125 14.828125 L 36.888672 16.767578 L 31.232422 11.111328 L 33.171875 9.171875 C 33.957865 8.3855186 34.979199 7.9921875 36 7.9921875 z M 29.111328 13.232422 L 34.767578 18.888672 L 16.693359 36.962891 C 16.634729 37.021121 16.560472 37.065723 16.476562 37.089844 L 8.6835938 39.316406 L 10.910156 31.521484 A 1.50015 1.50015 0 0 0 10.910156 31.519531 C 10.933086 31.438901 10.975086 31.366709 11.037109 31.304688 L 29.111328 13.232422 z"></path>
                  </svg>
               </a>
               <form
                  method="POST"
                  onsubmit="return confirm('Bạn có chắc muốn xoá blog này?')">
                  {% csrf_token %} {% method_override 'DELETE' %}
                  <input type="hidden" name="id" value="{{ blog.id }}" />
                  <button
                     type="submit"
                     class="hover:fill-red-500 p-2 font-medium text-blue-600 dark:text-blue-500">
                     <svg
                        xmlns="http://www.w3.org/2000/svg"
                        x="0px"
                        y="0px"
                        width="24"
                        height="24"
                        color="currentColor"
                        viewBox="0 0 48 48">
                        <path
                           d="M 20.5 4 A 1.50015 1.50015 0 0 0 19.066406 6 L 14.640625 6 C 12.803372 6 11.082924 6.9194511 10.064453 8.4492188 L 7.6972656 12 L 7.5 12 A 1.50015 1.50015 0 1 0 7.5 15 L 8.2636719 15 A 1.50015 1.50015 0 0 0 8.6523438 15.007812 L 11.125 38.085938 C 11.423352 40.868277 13.795836 43 16.59375 43 L 31.404297 43 C 34.202211 43 36.574695 40.868277 36.873047 38.085938 L 39.347656 15.007812 A 1.50015 1.50015 0 0 0 39.728516 15 L 40.5 15 A 1.50015 1.50015 0 1 0 40.5 12 L 40.302734 12 L 37.935547 8.4492188 C 36.916254 6.9202798 35.196001 6 33.359375 6 L 28.933594 6 A 1.50015 1.50015 0 0 0 27.5 4 L 20.5 4 z M 14.640625 9 L 33.359375 9 C 34.196749 9 34.974746 9.4162203 35.439453 10.113281 L 36.697266 12 L 11.302734 12 L 12.560547 10.113281 A 1.50015 1.50015 0 0 0 12.5625 10.111328 C 13.025982 9.4151428 13.801878 9 14.640625 9 z M 11.669922 15 L 36.330078 15 L 33.890625 37.765625 C 33.752977 39.049286 32.694383 40 31.404297 40 L 16.59375 40 C 15.303664 40 14.247023 39.049286 14.109375 37.765625 L 11.669922 15 z"></path>
                     </svg>
                  </button>
               </form>
            </td>
         </tr>
         {% endfor %}
      </tbody>
   </table>
</div>
{% endif %} {% endblock %}
